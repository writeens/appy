(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(54)},28:function(e,t,a){},29:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),s=a(16),i=a.n(s),r=(a(28),a(29),a(21)),c=a(9),l=a.n(c),m=a(20),u=a(17),d=a(3),k=a(4),h=a(7),p=a(5),f=a(2),v=a(6),j=a(18),g=a.n(j),b=(a(33),a(34),function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(k.a)(t,[{key:"getStyle",value:function(){var e=this.props.vote;return e>=15?{color:"#4CAF50",emoji:"em em-rolling_on_the_floor_laughing"}:e>=12?{color:"#8BC34A",emoji:"em em-laughing"}:e>=9?{color:"#CDDC39",emoji:"em em-smiley"}:e>=6?{color:"#FFEB3B",emoji:"em em-slightly_smiling_face"}:e>=3?{color:"#FFC107",emoji:"em em-neutral_face"}:e>=0?{color:"#FF9800",emoji:"em em-confused"}:{color:"#F44336",emoji:"em em-angry"}}},{key:"render",value:function(){var e=this.getStyle();return n.a.createElement("div",{className:"Joke"},n.a.createElement("div",{className:"Joke-top"},n.a.createElement("div",{className:"Joke-emoji"},n.a.createElement("i",{className:e.emoji})),n.a.createElement("div",{className:"Joke-joke"},this.props.text),n.a.createElement("i",{onClick:this.props.remove,className:"Joke-clear far fa-window-close"})),n.a.createElement("div",{className:"Joke-vote"},n.a.createElement("i",{className:"far fa-thumbs-up",onClick:this.props.upvote}),n.a.createElement("span",{id:"Joke-vote-circle",style:{borderColor:e.color}},this.props.vote),n.a.createElement("i",{className:"far fa-thumbs-down",onClick:this.props.downvote})))}}]),t}(o.Component)),w=a(19),E=a.n(w),N=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={jokes:JSON.parse(window.localStorage.getItem("jokes")||"[]"),loading:!1},a.jokeSeen=new Set(a.state.jokes.map(function(e){return e.text})),a.updateVote=a.updateVote.bind(Object(f.a)(a)),a.getJokes=a.getJokes.bind(Object(f.a)(a)),a.handleClick=a.handleClick.bind(Object(f.a)(a)),a}return Object(v.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){0===this.state.jokes.length&&this.getJokes()}},{key:"getJokes",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t,a,o,n=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=[];case 2:if(!(t.length<this.props.numJokesToGet)){e.next=11;break}return this.setState({loading:!0}),e.next=6,E.a.get("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}});case 6:a=e.sent,o=a.data.joke,this.jokeSeen.has(o)||t.push({id:g()(),text:o,votes:0}),e.next=2;break;case 11:this.setState(function(e){return{loading:!1,jokes:[].concat(Object(m.a)(e.jokes),t)}},function(){window.localStorage.setItem("jokes",JSON.stringify(n.state.jokes))}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),alert(e.t0),this.setState({loading:!1});case 18:case"end":return e.stop()}},e,this,[[0,14]])}));return function(){return e.apply(this,arguments)}}()},{key:"updateVote",value:function(e,t){var a=this,o=this.state.jokes.map(function(a){return a.id===e?Object(r.a)({},a,{votes:a.votes+t}):a});this.setState({jokes:o},function(){window.localStorage.setItem("jokes",JSON.stringify(a.state.jokes))})}},{key:"handleClick",value:function(){this.setState({loading:!0},this.getJokes)}},{key:"removeJoke",value:function(e){var t=this,a=this.state.jokes.filter(function(t){return t.id!==e});this.setState({jokes:a},function(){window.localStorage.setItem("jokes",JSON.stringify(t.state.jokes))})}},{key:"render",value:function(){var e=this;if(this.state.loading)return n.a.createElement("div",{className:"Board-spinner"},n.a.createElement("i",{className:"far fa-8x fa-spin fa-laugh"}),n.a.createElement("h1",{className:"Board-title"},"Loading..."));var t=this.state.jokes.sort(function(e,t){return t.votes-e.votes});return n.a.createElement("div",{className:"Board"},n.a.createElement("div",{className:"Board-sidebar"},n.a.createElement("h1",{className:"Board-title"},n.a.createElement("span",null,"Jokes")),n.a.createElement("img",{src:"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg",alt:"laughing Emoji"}),n.a.createElement("button",{onClick:this.handleClick,className:"Board-button"},"New Jokes")),n.a.createElement("div",{className:"Board-sm"},n.a.createElement("span",{className:"Board-sm-title"},"Appy"),n.a.createElement("button",{onClick:this.handleClick,className:"Board-sm-button"},"New Jokes")),n.a.createElement("div",{className:"Board-jokes"},t.map(function(t){return n.a.createElement(b,{key:t.id,text:t.text,id:t.id,upvote:function(){return e.updateVote(t.id,1)},downvote:function(){return e.updateVote(t.id,-1)},vote:t.votes,remove:function(){return e.removeJoke(t.id)}})})))}}]),t}(o.Component);N.defaultProps={numJokesToGet:10};var J=N;var y=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.a61ab1ff.chunk.js.map